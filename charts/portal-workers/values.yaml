# Default values for pokt-workers
# This is a YAML-formatted file
# Declare variables to be passed into your templates

replicaCount: 1

analytics:
  image:
    repository: pocketfoundation/portal-workers-analytics
    pullPolicy: IfNotPresent
    tag: "main"
  resources:
    limits:
      cpu: 512m
      memory: 1024Mi
    requests:
      cpu: 512m
      memory: 1024Mi
  env:
    normal:
      HTTP_DB_URL: "https://postgres.com"
      HTTP_DB_API_KEY: "dummyvalu3"
      RELAY_METER_URL: "dummyvalu3"
      AUTH0_AUTH_URL: "https://auth0.com"
      AUTH0_AUDIENCE: "dummyvalu3"
      AUTH0_CLIENT_ID: "dummyvalu3"
      AUTH0_CLIENT_SECRET: "dummyvalu3"
      ANALYTICS_TIME: "01:00"
      HTTP_RETRIES: "5"
      HTTP_TIMEOUT: "180"
      AMPLITUDE_API_KEY: "dummyvalu3"
      AMPLITUDE_TIMEOUT: "180"
      AMPLITUDE_RETRIES: "5"
    secret: []


notifier:
  image:
    repository: pocketfoundation/portal-workers-notifier
    pullPolicy: IfNotPresent
    tag: "main"
  resources:
    limits:
      cpu: 512m
      memory: 1024Mi
    requests:
      cpu: 512m
      memory: 1024Mi
  env:
    normal:
      HTTP_DB_URL: "https://postgres.com"
      HTTP_DB_API_KEY: "dummyvalu3"
      RELAY_METER_URL: "https://relay.com"
      PERSISTENCE_DB_PATH: "/dummyvalu3"
      AUTH0_AUTH_URL: "https://auth0.com"
      AUTH0_AUDIENCE: "dummyvalu3"
      AUTH0_CLIENT_ID: "dummyvalu3"
      AUTH0_CLIENT_SECRET: "dummyvalu3"
      MAILGUN_API_KEY: "dummyvalu3"
      MAILGUN_DOMAIN: "https://mailgun.com"
      MAILGUN_FROM_EMAIL: "dummyvalu3"
      NOTIFIER_INTERVAL: "240"
      HTTP_RETRIES: "4"
      HTTP_TIMEOUT: "180"
    secret: []

stripe:
  image:
    repository: pocketfoundation/portal-workers-stripe
    pullPolicy: IfNotPresent
    tag: "main"
  resources:
    limits:
      cpu: 512m
      memory: 1024Mi
    requests:
      cpu: 512m
      memory: 1024Mi
  env:
    normal:
      HTTP_DB_URL: "https://postgres.com"
      HTTP_DB_API_KEY: "dummyvalu3"
      RELAY_METER_URL: "https://relay.com"
      STRIPE_API_KEY: "dummyvalu3"
      STRIPE_PRICE_ID: "dummyvalu3"
      STRIPE_TIME: "01:00"
      HTTP_RETRIES: "5"
      HTTP_TIMEOUT: "180"
    secret: []

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

externalSecrets:
  enabled: false
  # # external secret key
  # key: "portal-workers/staging/env"
  # # secret-store config
  # vault:
  #   server: "https://vault:8200"
  #   mountPath: "k8s-mount-path"
  #   namespace: "our/namespace/"
  #   serviceAccount: "portal-api"
  #   role: "my-role"
  #   path: "path/"
  #   version: "v1"

serviceAccount:
  # Specifies whether a service account should be created
  create: true
  # Annotations to add to the service account
  annotations: {}
  # The name of the service account to use.
  # If not set and create is true, a name is generated using the fullname template
  name: "portal-api"

podAnnotations: {}

podSecurityContext: {}
  # fsGroup: 2000

securityContext: {}
  # capabilities:
  #   drop:
  #   - ALL
  # readOnlyRootFilesystem: true
  # runAsNonRoot: true
  # runAsUser: 1000

service:
  type: ClusterIP
  port: 80

probes:
  enabled: false

ingress:
  enabled: false
  className: ""
  annotations: {}
    # kubernetes.io/ingress.class: nginx
    # kubernetes.io/tls-acme: "true"
  hosts:
    - host: chart-example.local
      paths:
        - path: /
          pathType: ImplementationSpecific
  tls:
    - secretName: chart-example-tls
      hosts:
        - chart-example.local

autoscaling:
  enabled: false
  minReplicas: 3
  maxReplicas: 100
  targetCPUUtilizationPercentage: 80
  # targetMemoryUtilizationPercentage: 80

nodeSelector: {}

tolerations: []

affinity: {}
